<?xml version="1.0" encoding="UTF-8"?>
<proxy name="SMSForwardProxy" startOnLoad="true" trace="disable"
  transports="jms" xmlns="http://ws.apache.org/ns/synapse">
  <target>
    <inSequence>
      <log level="custom">
        <property name="text---------------->" value="viswanadh"/>
      </log>
      <filter regex="async" source="json-eval($.type)">
        <then>
          <call>
            <endpoint>
              <address trace="disable" uri="http://localhost:8484/muletest"/>
            </endpoint>
          </call>
        </then>
        <else>
          <send>
            <endpoint>
              <address trace="disable" uri="http://localhost:8484/muletest"/>
            </endpoint>
          </send>
        </else>
      </filter>
    </inSequence>
    <outSequence>
      <send/>
    </outSequence>
    <faultSequence/>
  </target>
  <parameter name="transport.jms.DestinationType">queue</parameter>
  <parameter name="transport.jms.Destination">SMSStore</parameter>
  <parameter name="transport.jms.ContentType">
    <rules>
      <jmsProperty>contentType</jmsProperty>
      <default>application/json</default>
    </rules>
  </parameter>
</proxy>
